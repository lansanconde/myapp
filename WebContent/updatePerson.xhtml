<?xml version="1.0" encoding="UTF-8" ?>
<html xmlns="http://www.w3.org/1999/xhtml"
        xmlns:f="http://java.sun.com/jsf/core"
        xmlns:h="http://java.sun.com/jsf/html"
        xmlns:c="http://java.sun.com/jsp/jstl/core"
        xmlns:ui="http://java.sun.com/jsf/facelets"
        xmlns:p="http://primefaces.org/ui">

<ui:composition template="/template/mylayout.xhtml">
<ui:define name="content">
<f:view>

    <h1>Person form  
    	<p> Now = <h:outputText id="now" value="#{ajaxBean.now}" /></p>
    </h1>
    <h:form id="test">
    	
	        <c:set var="pers" value="#{person.thePerson}" />
	        
	        <div class="form-group">
	            <label for="name">Name:</label>
	            <h:inputText id="name" value="#{pers.name}">
		        <f:validateLength minimum="2" maximum="8" />
		    </h:inputText>
		    <h:message id="messageName" for="name" />
	        </div>
	        
	        <div class="form-group">
	            <label for="firstName">First Name:</label>
	            <h:inputText id="firstName" value="#{pers.firstName}">
		        <f:validateLength minimum="3" maximum="20" />
		    </h:inputText>
		    <h:message id="messageFirstName" for="firstName" />
	        </div>
	        
	        <div class="form-group">
	            <label for="email">Email:</label>
	            <h:inputText id="email" value="#{pers.email}">
		        <f:validateLength minimum="4" maximum="20" />
		    </h:inputText>
		    <h:message id="messageEmail" for="email" />
	        </div>
	        <div class="form-group">
	            <label for="webSite">Web Site:</label>
	            <h:inputText id="webSite" value="#{pers.webSite}">
		        <f:validateLength minimum="0" maximum="20" />
		    </h:inputText>
		    <h:message id="messageWebSite" for="webSite" />
	        </div>
	        
	        <div class="form-group">
	            <label for="birthDay">BirthDay:</label>
	            <h:inputText id="birthDay" value="#{pers.birthDay}">
		        <f:validateLength minimum="2" maximum="10" />
		    </h:inputText>
		    <h:message id="messageBirthDay" for="birthDay" />
	        </div>
	        
	        <div class="form-group">
	            <label for="password">PassWord:</label>
	            <h:inputText id="password" value="#{pers.password}">
		        <f:validateLength minimum="3" maximum="8" />
		    </h:inputText>
		    <h:message id="messagePassword" for="password" />
	        </div>
			
	        <div class="form-group">
	        		<h:commandButton value="Save" action="#{person.updatePerson()}"
        					styleClass="btn btn-primary">
        				<f:ajax execute="@form" render="@form" />
    				</h:commandButton>
	            <span> </span>
	            <h:link styleClass="btn btn-info" outcome="hello" value="Quit" />
	        </div>
    </h:form>

</f:view>
</ui:define>
</ui:composition>

</html>